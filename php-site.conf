<VirtualHost *:80>
    ServerName php-example.com
    DocumentRoot /var/www/php-example

    # Logs
    ErrorLog ${APACHE_LOG_DIR}/php-example-error.log
    CustomLog ${APACHE_LOG_DIR}/php-example-access.log combined

    <Directory /var/www/php-example>
        AllowOverride All
        Require all granted
    </Directory>

    # Index-Dateien
    DirectoryIndex index.php index.html

    # PHP-FPM via Unix-Socket
    <FilesMatch "\.php$">
        SetHandler "proxy:unix:/run/php/php8.2-fpm.sock|fcgi://localhost/"
    </FilesMatch>

    # Sicherheit: keine .ht* Dateien ausliefern
    <Files ".ht*">
        Require all denied
    </Files>
</VirtualHost>
